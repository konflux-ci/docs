// Generated documentation. Please do not edit.
:anchor_prefix: k8s-api

[id="reference"]
== Application API Reference

.Packages
- xref:{anchor_prefix}-appstudio-redhat-com-v1alpha1[$$appstudio.redhat.com/v1alpha1$$]


[id="{anchor_prefix}-appstudio-redhat-com-v1alpha1"]
=== appstudio.redhat.com/v1alpha1

Package v1alpha1 contains API Schema definitions for the appstudio v1alpha1 API group

.Resource Types
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-application[$$Application$$]
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-applicationlist[$$ApplicationList$$]
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-component[$$Component$$]
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentdetectionquery[$$ComponentDetectionQuery$$]
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentdetectionquerylist[$$ComponentDetectionQueryList$$]
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentlist[$$ComponentList$$]
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-snapshot[$$Snapshot$$]
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-snapshotlist[$$SnapshotList$$]



[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-application"]
==== Application



Application is the Schema for the applications API.



.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-applicationlist[$$ApplicationList$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`apiVersion`* __string__ | `appstudio.redhat.com/v1alpha1` | |
| *`kind`* __string__ | `Application` | |
| *`metadata`* __link:https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.3/#objectmeta-v1-meta[$$ObjectMeta$$]__ | Refer to Kubernetes API documentation for fields of `metadata`.
 |  |
| *`spec`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-applicationspec[$$ApplicationSpec$$]__ |  |  |
| *`status`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-applicationstatus[$$ApplicationStatus$$]__ |  |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-applicationgitrepository"]
==== ApplicationGitRepository



ApplicationGitRepository defines a git repository for a given Application resource (either appmodel or gitops)



.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-applicationspec[$$ApplicationSpec$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`url`* __string__ | URL refers to the repository URL that should be used. If not specified, a GitOps repository under the +
$GITHUB_ORG (defaults to redhat-appstudio-appdata) organization on GitHub will be generated by HAS. +
Example: https://github.com/devfile-test/myrepo. +
Required. + |  |
| *`branch`* __string__ | Branch corresponds to the branch in the repository that should be used +
Example: devel. +
Optional. + |  |
| *`context`* __string__ | Context corresponds to the context within the repository that should be used +
Example: folderA/folderB/gitops. +
Optional. + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-applicationlist"]
==== ApplicationList



ApplicationList contains a list of Application





[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`apiVersion`* __string__ | `appstudio.redhat.com/v1alpha1` | |
| *`kind`* __string__ | `ApplicationList` | |
| *`metadata`* __link:https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.3/#listmeta-v1-meta[$$ListMeta$$]__ | Refer to Kubernetes API documentation for fields of `metadata`.
 |  |
| *`items`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-application[$$Application$$] array__ |  |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-applicationspec"]
==== ApplicationSpec



ApplicationSpec defines the desired state of Application



.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-application[$$Application$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`displayName`* __string__ | DisplayName refers to the name that an application will be deployed with in App Studio. +
Required. + |  |
| *`appModelRepository`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-applicationgitrepository[$$ApplicationGitRepository$$]__ | AppModelRepository refers to the git repository that will store the application model (a devfile) +
Can be the same as GitOps repository. +
A repository will be generated if this field is left blank. +
Optional. + |  |
| *`gitOpsRepository`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-applicationgitrepository[$$ApplicationGitRepository$$]__ | GitOpsRepository refers to the git repository that will store the gitops resources. +
Can be the same as App Model Repository. +
A repository will be generated if this field is left blank. +
Optional. + |  |
| *`description`* __string__ | Description refers to a brief description of the application. +
Optional. + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-applicationstatus"]
==== ApplicationStatus



ApplicationStatus defines the observed state of Application



.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-application[$$Application$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`conditions`* __link:https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.3/#condition-v1-meta[$$Condition$$] array__ | Conditions is an array of the Application's status conditions + |  |
| *`devfile`* __string__ | Devfile corresponds to the devfile representation of the Application resource + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-component"]
==== Component



Component is the Schema for the components API.



.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentlist[$$ComponentList$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`apiVersion`* __string__ | `appstudio.redhat.com/v1alpha1` | |
| *`kind`* __string__ | `Component` | |
| *`metadata`* __link:https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.3/#objectmeta-v1-meta[$$ObjectMeta$$]__ | Refer to Kubernetes API documentation for fields of `metadata`.
 |  |
| *`spec`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentspec[$$ComponentSpec$$]__ |  |  |
| *`status`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentstatus[$$ComponentStatus$$]__ |  |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentactions"]
==== ComponentActions







.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentspec[$$ComponentSpec$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`create-pipeline-configuration-pr`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentcreatepipelineconfiguration[$$ComponentCreatePipelineConfiguration$$]__ | Send a PR with build pipeline configuration proposal for Component version(s). +
If not set, version onboarding will be done without pipeline configuration PR. +
Could be used after onboarding to create / renew build pipeline definition. +
Optional. + |  |
| *`trigger-push-build`* __string__ | Specify name of component version to restart the push build for. +
Can be specified together with 'trigger-push-builds' and any duplicates will be removed. +
Optional. + |  |
| *`trigger-push-builds`* __string array__ | Specify names of component versions to restart the push build for. +
Can be specified together with 'trigger-push-build' and any duplicates will be removed. +
Optional. + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentbuildpipeline"]
==== ComponentBuildPipeline







.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentspec[$$ComponentSpec$$]
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentversion[$$ComponentVersion$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`pull-and-push`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-pipelinedefinition[$$PipelineDefinition$$]__ | Pipeline used for pull and push pipeline runs. +
Can specify just one of: pipelinespec-from-bundle, pipelineref-by-name, pipelineref-by-git-resolver. +
Optional. + |  |
| *`pull`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-pipelinedefinition[$$PipelineDefinition$$]__ | Pipeline used for pull pipeline run. +
Can specify just one of: pipelinespec-from-bundle, pipelineref-by-name, pipelineref-by-git-resolver. +
Optional. + |  |
| *`push`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-pipelinedefinition[$$PipelineDefinition$$]__ | Pipeline used for push pipeline run. +
Can specify just one of: pipelinespec-from-bundle, pipelineref-by-name, pipelineref-by-git-resolver. +
Optional. + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentcreatepipelineconfiguration"]
==== ComponentCreatePipelineConfiguration







.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentactions[$$ComponentActions$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`all-versions`* __boolean__ | When specified it will send a PR with build pipeline configuration proposal for all Component versions. +
Has precedence over 'version' and 'versions'. +
Optional. + |  |
| *`version`* __string__ | When specified it will send a PR with build pipeline configuration proposal for the Component version. +
Can be specified together with 'versions' and any duplicates will be removed. +
Optional. + |  |
| *`versions`* __string array__ | When specified it will send a PR with build pipeline configuration proposal for Component versions. +
Can be specified together with 'version' and any duplicates will be removed. +
Optional. + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentdetectiondescription"]
==== ComponentDetectionDescription



ComponentDetectionDescription holds all the information about the component being detected



.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentdetectionmap[$$ComponentDetectionMap$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`devfileFound`* __boolean__ | DevfileFound tells if a devfile is found in the component + |  |
| *`language`* __string__ | Language specifies the language of the component detected +
Example: JavaScript + |  |
| *`projectType`* __string__ | ProjectType specifies the type of project for the component detected +
Example Node.js + |  |
| *`componentStub`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentspec[$$ComponentSpec$$]__ | ComponentStub is a stub of the component detected with all the info gathered from the devfile or service detection + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentdetectionmap"]
==== ComponentDetectionMap

_Underlying type:_ _xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-map-string-componentdetectiondescription[$$map[string]ComponentDetectionDescription$$]_

ComponentDetectionMap is a map containing all the components and their detected information



.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentdetectionquerystatus[$$ComponentDetectionQueryStatus$$]
****



[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentdetectionquery"]
==== ComponentDetectionQuery



ComponentDetectionQuery is the Schema for the componentdetectionqueries API.



.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentdetectionquerylist[$$ComponentDetectionQueryList$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`apiVersion`* __string__ | `appstudio.redhat.com/v1alpha1` | |
| *`kind`* __string__ | `ComponentDetectionQuery` | |
| *`metadata`* __link:https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.3/#objectmeta-v1-meta[$$ObjectMeta$$]__ | Refer to Kubernetes API documentation for fields of `metadata`.
 |  |
| *`spec`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentdetectionqueryspec[$$ComponentDetectionQuerySpec$$]__ |  |  |
| *`status`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentdetectionquerystatus[$$ComponentDetectionQueryStatus$$]__ |  |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentdetectionquerylist"]
==== ComponentDetectionQueryList



ComponentDetectionQueryList contains a list of ComponentDetectionQuery





[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`apiVersion`* __string__ | `appstudio.redhat.com/v1alpha1` | |
| *`kind`* __string__ | `ComponentDetectionQueryList` | |
| *`metadata`* __link:https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.3/#listmeta-v1-meta[$$ListMeta$$]__ | Refer to Kubernetes API documentation for fields of `metadata`.
 |  |
| *`items`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentdetectionquery[$$ComponentDetectionQuery$$] array__ |  |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentdetectionqueryspec"]
==== ComponentDetectionQuerySpec



ComponentDetectionQuerySpec defines the desired state of ComponentDetectionQuery



.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentdetectionquery[$$ComponentDetectionQuery$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`git`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-gitsource[$$GitSource$$]__ | Git Source for a Component. +
Required. + |  |
| *`secret`* __string__ | Secret describes the name of an optional Kubernetes secret containing a Personal Access Token to access the git repostiory. +
Optional. + |  |
| *`generateComponentName`* __boolean__ | It defines if should generate random characters at the end of the component name instead of a predicted default value +
The default value is false. +
If the value is set to true, component name will always have random characters appended +
Optional. + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentdetectionquerystatus"]
==== ComponentDetectionQueryStatus



ComponentDetectionQueryStatus defines the observed state of ComponentDetectionQuery



.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentdetectionquery[$$ComponentDetectionQuery$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`conditions`* __link:https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.3/#condition-v1-meta[$$Condition$$] array__ | Conditions is an array of the ComponentDetectionQuery's status conditions + |  |
| *`componentDetected`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentdetectionmap[$$ComponentDetectionMap$$]__ | ComponentDetected gives a list of components and the info from detection + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentlist"]
==== ComponentList



ComponentList contains a list of Component





[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`apiVersion`* __string__ | `appstudio.redhat.com/v1alpha1` | |
| *`kind`* __string__ | `ComponentList` | |
| *`metadata`* __link:https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.3/#listmeta-v1-meta[$$ListMeta$$]__ | Refer to Kubernetes API documentation for fields of `metadata`.
 |  |
| *`items`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-component[$$Component$$] array__ |  |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentsource"]
==== ComponentSource



ComponentSource describes the Component source



.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentspec[$$ComponentSpec$$]
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-snapshotcomponent[$$SnapshotComponent$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`git`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-gitsource[$$GitSource$$]__ | Git Source for a Component. +
Optional. +
!!! Will be removed when we remove old model + |  |
| *`url`* __string__ | Git repository URL for the component. +
Optional. +
!!! Will be required when we remove old model + |  |
| *`dockerfileUri`* __string__ | Dockerfile path for all versions, unless explicitly specified for a version. +
Used only when sending a PR with build pipeline configuration was requested via 'spec.actions.create-pipeline-configuration-pr'. +
Default: "Dockerfile" +
Optional. + |  |
| *`versions`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentversion[$$ComponentVersion$$] array__ | List of all versions for this component. +
Optional. +
!!! Will be required when we remove old model + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentsourceunion"]
==== ComponentSourceUnion







.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentsource[$$ComponentSource$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`git`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-gitsource[$$GitSource$$]__ | Git Source for a Component. +
Optional. +
!!! Will be removed when we remove old model + |  |
| *`url`* __string__ | Git repository URL for the component. +
Optional. +
!!! Will be required when we remove old model + |  |
| *`dockerfileUri`* __string__ | Dockerfile path for all versions, unless explicitly specified for a version. +
Used only when sending a PR with build pipeline configuration was requested via 'spec.actions.create-pipeline-configuration-pr'. +
Default: "Dockerfile" +
Optional. + |  |
| *`versions`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentversion[$$ComponentVersion$$] array__ | List of all versions for this component. +
Optional. +
!!! Will be required when we remove old model + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentspec"]
==== ComponentSpec



ComponentSpec defines the desired state of Component



.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-component[$$Component$$]
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentdetectiondescription[$$ComponentDetectionDescription$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`componentName`* __string__ | ComponentName is name of the component to be added to the Application. The name must adhere to DNS-1123 validation. +
Optional. +
!!! Will be removed when we remove old model + |  | MaxLength: 63 +
Pattern: `^[a-z0-9]([-a-z0-9]*[a-z0-9])?$` +

| *`application`* __string__ | Application is the name of the application resource that the component belongs to. +
Optional. +
!!! Will be removed when we remove old model + |  | Pattern: `^[a-z0-9]([-a-z0-9]*[a-z0-9])?$` +

| *`secret`* __string__ | Secret describes the name of a Kubernetes secret containing either: +
1. A Personal Access Token to access the Component's git repository (if using a Git-source component) or +
2. An Image Pull Secret to access the Component's container image (if using an Image-source component). +
Optional. +
!!! Will be removed when we remove old model + |  |
| *`source`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentsource[$$ComponentSource$$]__ | Source describes the Component source. +
Required. + |  |
| *`resources`* __link:https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.3/#resourcerequirements-v1-core[$$ResourceRequirements$$]__ | Compute Resources required by this component. +
Optional. + |  |
| *`replicas`* __integer__ | The number of replicas to deploy the component with. +
Optional. +
!!! Will be removed when we remove old model + |  |
| *`targetPort`* __integer__ | The port to expose the component over. +
Optional. +
!!! Will be removed when we remove old model + |  |
| *`route`* __string__ | The route to expose the component with. +
Optional. +
!!! Will be removed when we remove old model + |  |
| *`env`* __link:https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.3/#envvar-v1-core[$$EnvVar$$] array__ | An array of environment variables to add to the component (ValueFrom not currently supported) +
Optional + |  |
| *`containerImage`* __string__ | The container image repository to use for this component (without tag). +
Either will be set by Image Repository, or explicitly specified with custom repo. +
All versions of this component will use this single image repository. +
Example: quay.io/org/tenant/component +
Optional. + |  |
| *`skipGitOpsResourceGeneration`* __boolean__ | Whether or not to bypass the generation of GitOps resources for the Component. Defaults to false. +
Optional. +
!!! Will be removed when we remove old model + |  |
| *`build-nudges-ref`* __string array__ | The list of components to be nudged by this components build upon a successful result. +
Optional. +
!!! Will be removed when we remove old model + |  |
| *`actions`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentactions[$$ComponentActions$$]__ | Specific actions that will be processed by the controller and then removed from 'spec.actions'. +
Used for triggering builds or creating pipeline configuration PRs. +
Optional. + |  |
| *`skip-offboarding-pr`* __boolean__ | When 'true', during offboarding a cleaning PR won't be created. +
Default: false. +
Optional. + |  |
| *`repository-settings`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-repositorysettings[$$RepositorySettings$$]__ | Used for setting additional settings for the Repository CR. +
Optional. + |  |
| *`default-build-pipeline`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentbuildpipeline[$$ComponentBuildPipeline$$]__ | Used only when sending a PR with build pipeline configuration was requested via 'spec.actions.create-pipeline-configuration-pr'. +
Pipeline used for all versions, unless explicitly specified for a specific version. +
When omitted it has to be specified in all versions. +
Optional. + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentstatus"]
==== ComponentStatus



ComponentStatus defines the observed state of Component



.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-component[$$Component$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`conditions`* __link:https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.3/#condition-v1-meta[$$Condition$$] array__ | Conditions is an array of the Component's status conditions + |  |
| *`webhook`* __string__ | Webhook URL generated by Builds +
!!! Will be removed when we remove old model + |  |
| *`containerImage`* __string__ | ContainerImage stores the associated built container image for the component + |  |
| *`devfile`* __string__ | The devfile model for the Component CR +
!!! Will be removed when we remove old model + |  |
| *`gitops`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-gitopsstatus[$$GitOpsStatus$$]__ | GitOps specific status for the Component CR +
!!! Will be removed when we remove old model + |  |
| *`lastBuiltCommit`* __string__ | The last built commit id (SHA-1 checksum) from the latest component build. +
Example: 41fbdb124775323f58fd5ce93c70bb7d79c20650. +
!!! Will be removed when we remove old model SHOULD this be in version specific section?? + |  |
| *`lastPromotedImage`* __string__ | The last digest image component promoted with. +
Example: quay.io/someorg/somerepository@sha256:5ca85b7f7b9da18a9c4101e81ee1d9bac35ac2b0b0221908ff7389204660a262. +
!!! Will be removed when we remove old model SHOULD this be in version specific section?? + |  |
| *`build-nudged-by`* __string array__ | The list of names of Components whose builds nudge this resource (their spec.build-nudges-ref[] references this component) +
!!! Will be removed when we remove old model + |  |
| *`repository-settings`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-repositorysettings[$$RepositorySettings$$]__ | Identifies which additional settings are used for the Repository CR. + |  |
| *`message`* __string__ | General error message, not specific to any version (version-specific errors are in versions[].message). +
Example: "spec.containerImage is not set" or "GitHub App is not installed". + |  |
| *`pac-repository`* __string__ | Name of Repository CR for the component. + |  |
| *`versions`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentversionstatus[$$ComponentVersionStatus$$] array__ | All versions which were processed by onboarding. +
When version is removed from the spec, offboarding will remove it from the status. + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentversion"]
==== ComponentVersion







.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentsource[$$ComponentSource$$]
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentsourceunion[$$ComponentSourceUnion$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`build-pipeline`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentbuildpipeline[$$ComponentBuildPipeline$$]__ | Used only when sending a PR with build pipeline configuration was requested via 'spec.actions.create-pipeline-configuration-pr'. +
Pipeline used for the version; when omitted, the default pipeline will be used from 'spec.default-build-pipeline'. +
Optional. + |  |
| *`context`* __string__ | Context directory for the version. +
Used only when sending a PR with build pipeline configuration was requested via 'spec.actions.create-pipeline-configuration-pr'. +
Default: "" (empty string, root of repository). +
Optional. + |  |
| *`dockerfileUri`* __string__ | Dockerfile path for the version. +
Used only when sending a PR with build pipeline configuration was requested via 'spec.actions.create-pipeline-configuration-pr'. +
Default: "Dockerfile". +
Optional. + |  |
| *`name`* __string__ | User defined name for the version. +
After sanitization (lower case, removing spaces, etc) all version names must be unique. +
Required. + |  |
| *`revision`* __string__ | Git branch to use for the version. +
Required. + |  |
| *`skip-builds`* __boolean__ | When 'true' it will disable builds for a revision in the version. +
Default: false. +
Optional. + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentversionstatus"]
==== ComponentVersionStatus







.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentstatus[$$ComponentStatus$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`configuration-merge-url`* __string__ | Link with onboarding PR if requested by 'spec.actions.create-pipeline-configuration-pr'. +
Only present if onboarding was successful. +
Example: https://github.com/user/repo/pull/1 + |  |
| *`message`* __string__ | Version specific error message. +
Example: "pipeline for this version doesn't exist" + |  |
| *`name`* __string__ | Name for the version. + |  |
| *`onboarding-status`* __string__ | Onboarding status will be either 'succeeded' or 'failed' ('disabled' won't be there because we will just remove specific version section). + |  |
| *`onboarding-time`* __string__ | Timestamp for when onboarding happened. +
Only present if onboarding was successful. +
Example: "29 May 2024 15:11:16 UTC" + |  |
| *`revision`* __string__ | Git revision (branch) for the version. + |  |
| *`skip-builds`* __boolean__ | Identifies that builds for the revision in the version are disabled. + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-gitopsstatus"]
==== GitOpsStatus



GitOpsStatus contains GitOps repository-specific status for the component
!!! Will be removed when we remove old model



.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentstatus[$$ComponentStatus$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`repositoryURL`* __string__ | RepositoryURL is the gitops repository URL for the component + |  |
| *`branch`* __string__ | Branch is the git branch used for the gitops repository + |  |
| *`context`* __string__ | Context is the path within the gitops repository used for the gitops resources + |  |
| *`resourceGenerationSkipped`* __boolean__ | ResourceGenerationSkipped is whether or not GitOps resource generation was skipped for the component + |  |
| *`commitID`* __string__ | CommitID is the most recent commit ID in the GitOps repository for this component + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-gitsource"]
==== GitSource



!!! Will be removed when we remove old model



.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentdetectionqueryspec[$$ComponentDetectionQuerySpec$$]
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentsource[$$ComponentSource$$]
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentsourceunion[$$ComponentSourceUnion$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`url`* __string__ | An HTTPS URL representing the git repository to create the component from. + |  |
| *`revision`* __string__ | Specify a branch/tag/commit id. If not specified, default is `main`/`master`. +
Example: devel. +
Optional. + |  |
| *`context`* __string__ | A relative path inside the git repo containing the component +
Example: folderA/folderB/gitops. +
Optional. + |  |
| *`devfileUrl`* __string__ | If specified, the devfile at the URI will be used for the component. Can be a local path inside the repository, or an external URL. +
Example: https://raw.githubusercontent.com/devfile-samples/devfile-sample-java-springboot-basic/main/devfile.yaml. +
Optional. + |  |
| *`dockerfileUrl`* __string__ | If specified, the dockerfile at the URI will be used for the component. Can be a local path inside the repository, or an external URL. +
Optional. + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-pipelinedefinition"]
==== PipelineDefinition







.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentbuildpipeline[$$ComponentBuildPipeline$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`pipelineref-by-git-resolver`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-pipelinerefgit[$$PipelineRefGit$$]__ | Will be used to fill out PipelineRef in pipeline runs to user specific pipeline via git resolver, +
specifying repository with a pipeline definition. +
Optional. + |  |
| *`pipelineref-by-name`* __string__ | Will be used to fill out PipelineRef in pipeline runs to user specific pipeline. +
Such pipeline definition has to be in .tekton. +
Optional. + |  |
| *`pipelinespec-from-bundle`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-pipelinespecfrombundle[$$PipelineSpecFromBundle$$]__ | Will be used to fetch bundle and fill out PipelineSpec in pipeline runs. +
Pipeline name is based on build-pipeline-config CM in build-service NS. +
When 'latest' bundle is specified, bundle image will be used from CM. +
When bundle is specified to specific image bundle, then that one will be used +
and pipeline name will be used to fetch pipeline from that bundle. +
Optional. + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-pipelinerefgit"]
==== PipelineRefGit







.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-pipelinedefinition[$$PipelineDefinition$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`pathInRepo`* __string__ | Path to the pipeline definition file within the repository. +
Example: pipeline/push.yaml +
Required. + |  |
| *`revision`* __string__ | Git revision (branch, tag, or commit) to use. +
Example: main +
Required. + |  |
| *`url`* __string__ | Git repository URL containing the pipeline definition. +
Example: https://github.com/custom-pipelines/pipelines.git +
Required. + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-pipelinespecfrombundle"]
==== PipelineSpecFromBundle







.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-pipelinedefinition[$$PipelineDefinition$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`bundle`* __string__ | Bundle image reference. Use 'latest' to get bundle from build-pipeline-config CM, +
or specify a specific bundle image. +
Required. + |  |
| *`name`* __string__ | Pipeline name to fetch from the bundle, or from build-pipeline-config CM. +
Required. + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-repositorysettings"]
==== RepositorySettings







.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentspec[$$ComponentSpec$$]
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentstatus[$$ComponentStatus$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`comment-strategy`* __string__ | When specified, will set value of `comment_strategy` in the Repository CR +
Optional. + |  |
| *`github-app-token-scope-repos`* __string array__ | When specified, will add values to `github_app_token_scope_repos` in the Repository CR +
Optional. + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-snapshot"]
==== Snapshot



Snapshot is the Schema for the snapshots API



.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-snapshotlist[$$SnapshotList$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`apiVersion`* __string__ | `appstudio.redhat.com/v1alpha1` | |
| *`kind`* __string__ | `Snapshot` | |
| *`metadata`* __link:https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.3/#objectmeta-v1-meta[$$ObjectMeta$$]__ | Refer to Kubernetes API documentation for fields of `metadata`.
 |  |
| *`spec`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-snapshotspec[$$SnapshotSpec$$]__ |  |  |
| *`status`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-snapshotstatus[$$SnapshotStatus$$]__ |  |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-snapshotartifacts"]
==== SnapshotArtifacts



SnapshotArtifacts is a placeholder section for 'artifact links' we want to maintain to other AppStudio resources.

For example: here I'm imagining we might want to keep track of container image <=> (source code repo, commit sha) links,
Which might be useful to present to the user within the UI.



.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-snapshotspec[$$SnapshotSpec$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`unstableFields`* __link:https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.3/#json-v1-apiextensions-k8s-io[$$JSON$$]__ | NOTE: This field (and struct) are placeholders. +
- Until this API is stabilized, consumers of the API may store any unstructured JSON/YAML data here, +
but no backwards compatibility will be preserved. + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-snapshotcomponent"]
==== SnapshotComponent



SnapshotComponent



.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-snapshotspec[$$SnapshotSpec$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`name`* __string__ | Name is the name of the component + |  |
| *`containerImage`* __string__ | ContainerImage is the container image to use when deploying the component, as part of a Snapshot + |  |
| *`source`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-componentsource[$$ComponentSource$$]__ | Source describes the Component source. +
Optional. + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-snapshotlist"]
==== SnapshotList



SnapshotList contains a list of Snapshot





[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`apiVersion`* __string__ | `appstudio.redhat.com/v1alpha1` | |
| *`kind`* __string__ | `SnapshotList` | |
| *`metadata`* __link:https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.3/#listmeta-v1-meta[$$ListMeta$$]__ | Refer to Kubernetes API documentation for fields of `metadata`.
 |  |
| *`items`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-snapshot[$$Snapshot$$] array__ |  |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-snapshotspec"]
==== SnapshotSpec



SnapshotSpec defines the desired state of Snapshot



.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-snapshot[$$Snapshot$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`application`* __string__ | Application is a reference to the name of an Application resource within the same namespace, which defines the target application for the Snapshot (when used with a Binding). + |  |
| *`displayName`* __string__ | DisplayName is a user-visible, user-definable name for the resource (and is not used for any functional behaviour) + |  |
| *`displayDescription`* __string__ | DisplayDescription is a user-visible, user definable description for the resource (and is not used for any functional behaviour) + |  |
| *`components`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-snapshotcomponent[$$SnapshotComponent$$] array__ | Components field contains the sets of components to deploy as part of this snapshot. + |  |
| *`artifacts`* __xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-snapshotartifacts[$$SnapshotArtifacts$$]__ | Artifacts is a placeholder section for 'artifact links' we want to maintain to other AppStudio resources. +
See Environment API doc for details. + |  |
|===


[id="{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-snapshotstatus"]
==== SnapshotStatus



SnapshotStatus defines the observed state of Snapshot



.Appears In:
****
- xref:{anchor_prefix}-github-com-konflux-ci-application-api-api-v1alpha1-snapshot[$$Snapshot$$]
****

[cols="20a,50a,15a,15a", options="header"]
|===
| Field | Description | Default | Validation
| *`conditions`* __link:https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.3/#condition-v1-meta[$$Condition$$] array__ | Conditions represent the latest available observations for the Snapshot + |  |
|===
